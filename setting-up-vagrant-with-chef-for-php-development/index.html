<!DOCTYPE html>
<html class="min-h-full min-w-[250px]">
  <head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Setting up Vagrant with Chef for PHP development</title>
    <link href="https://unpkg.com/smartphoto@1.1.0/css/smartphoto.min.css" rel="stylesheet"/>

    <link href="https://unpkg.com/flickity@2/dist/flickity.min.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700" rel="stylesheet"/>
    <link href="/assets/css/tailwind.css" rel="stylesheet"/>
    <link href="/assets/css/native.css" rel="stylesheet"/>
    <link href="/assets/css/styles.css" rel="stylesheet"/>

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Setting up Vagrant with Chef for PHP development | Keen Development</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Setting up Vagrant with Chef for PHP development" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Since I just went through this long and quite painful process I thought I’d document it for myself and anyone else who is interested!  This assumes that you already have an existing PHP project that you want to employ using Vagrant with Chef as a provisioner.  It is written from the perspective of developing a Symfony 2 project, but in fact the process will be pretty much identical no matter what framework (if any) your project uses.  At the end there are some extra instructions for getting it working smoothly on Windows 7, but the rest of the instructions should apply to all host OSs." />
<meta property="og:description" content="Since I just went through this long and quite painful process I thought I’d document it for myself and anyone else who is interested!  This assumes that you already have an existing PHP project that you want to employ using Vagrant with Chef as a provisioner.  It is written from the perspective of developing a Symfony 2 project, but in fact the process will be pretty much identical no matter what framework (if any) your project uses.  At the end there are some extra instructions for getting it working smoothly on Windows 7, but the rest of the instructions should apply to all host OSs." />
<meta property="og:site_name" content="Keen Development" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-06-14T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Setting up Vagrant with Chef for PHP development" />
<script type="application/ld+json">
{"datePublished":"2013-06-14T00:00:00+00:00","dateModified":"2013-06-14T00:00:00+00:00","description":"Since I just went through this long and quite painful process I thought I’d document it for myself and anyone else who is interested!  This assumes that you already have an existing PHP project that you want to employ using Vagrant with Chef as a provisioner.  It is written from the perspective of developing a Symfony 2 project, but in fact the process will be pretty much identical no matter what framework (if any) your project uses.  At the end there are some extra instructions for getting it working smoothly on Windows 7, but the rest of the instructions should apply to all host OSs.","url":"/setting-up-vagrant-with-chef-for-php-development/","mainEntityOfPage":{"@type":"WebPage","@id":"/setting-up-vagrant-with-chef-for-php-development/"},"@type":"BlogPosting","headline":"Setting up Vagrant with Chef for PHP development","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body class="max-w-screen-xl mx-auto bg-lightgray overscroll-y-none">
    <div class="absolute left-0 right-0 h-12 shadow-md bg-code">
  <div class="flex justify-center w-full px-6 py-3 sm:justify-between">
    <a href="/">
      <img class="hidden h-7 sm:inline" src="/assets/images/Keen_bold_neg%201.svg"/>
    </a>
    <nav class="flex items-center text-base">
  <ol class="flex gap-4">
    
      <li class="text-white">
        <a href="/">Home</a>
      </li>
    
      <li class="text-white">
        <a href="/contact">Contact</a>
      </li>
    
      <li class="text-white">
        <a href="https://www.github.com/ccapndave">Github</a>
      </li>
    
  </ol>
</nav>
  </div>
</div>

<div class="px-5 pt-20 m-auto max-w-prose">
  <header class="flex justify-between">
    <div class="text-xl font-bold tracking-wide">Setting up Vagrant with Chef for PHP development<span class="font-normal text-orange">_</span>
    </div>
  </header>

  

  <div class="flex items-center text-sm font-normal text-darkgray whitespace-nowrap">
    Jun 14, 2013
  </div>

  <article class="my-8 prose-sm prose text-green-700 sm:prose">
  <p>Since I just went through this long and quite painful process I thought I’d document it for myself and anyone else who is interested!  This assumes that you already have an existing PHP project that you want to employ using Vagrant with Chef as a provisioner.  It is written from the perspective of developing a Symfony 2 project, but in fact the process will be pretty much identical no matter what framework (if any) your project uses.  At the end there are some extra instructions for getting it working smoothly on Windows 7, but the rest of the instructions should apply to all host OSs.</p>

<p>At the end of the process we will end up with a reproducible server containing:</p>

<ul>
  <li>Ubuntu Precise 64</li>
  <li>Apache</li>
  <li>PHP</li>
  <li>MySQL</li>
  <li>Zend Debugger</li>
</ul>

<p><strong>1. Install Vagrant</strong></p>

<p>This is as simple as going to <a href="http://www.vagrantup.com/">http://www.vagrantup.com/</a> and installing the latest version.</p>

<p><strong>2. Setup your Vagrantfile</strong></p>

<p>Each project that you want to use with Vagrant needs a <strong>Vagrantfile</strong> in its root.  The file defines the characteristics of the server and how to set it up.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ipaddress</span> <span class="o">=</span> <span class="s2">"10.10.10.10"</span>

<span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"precise64"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box_url</span> <span class="o">=</span> <span class="s2">"http://files.vagrantup.com/precise64.box"</span>

  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">ip: </span><span class="n">ipaddress</span>

  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provider</span> <span class="ss">:virtualbox</span> <span class="k">do</span> <span class="o">|</span><span class="n">vb</span><span class="o">|</span>
    <span class="n">vb</span><span class="p">.</span><span class="nf">customize</span> <span class="p">[</span><span class="s2">"modifyvm"</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">"--memory"</span><span class="p">,</span> <span class="s2">"512"</span><span class="p">]</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Here is a basic Vagrantfile.  However, even this little snippet of code will create a fully functioning Ubuntu virtual machine with a single command!  Try it out by opening a console and entering **vagrant up **(it will download the Ubuntu image if necessary, so the first time might take a little while).  Once the VM has started you should be able to ping it from the host on 10.10.10.10.</p>

<p><strong>3. Chef</strong></p>

<p>Although this is pretty cool, the virtual machine isn’t much use unless its got some software on it.  We are going to automate the process of setting up the server using Chef.  Note that Chef comes pre-bundled and mostly pre-setup with Vagrant so there isn’t any initial setup required.</p>

<p>Chef works by defining <strong>recipes</strong>, where a recipe is basically a set of configurable instructions that perform some operation on the server, usually installing something.  For example, a recipe might install the mysql client, or setup a vhost in Apache.  Related recipes are collected together in <strong>cookbooks</strong>.</p>

<p>Although its very easy to create your own recipes and cookbooks (and in fact we’ll be doing that in a later step), Opcode provide heaps of pre-built cookbooks which you can use at <a href="https://github.com/opscode-cookbooks">https://github.com/opscode-cookbooks</a></p>

<p>In your project folder create a <strong>chef **folder, and within that a **cookbooks</strong> and <strong>site-cookbooks</strong> folder.  Your project folder should now look like this (plus whatever else was in there already):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chef
├── cookbooks
└── site-cookbooks
Vagrantfile
</code></pre></div></div>

<p>Next download all the cookbooks that you are going to use.  Personally I manage my projects with git, and add the cookbooks as git submodules, but any method is fine as long as they end up in the cookbooks folder.  Through a bit of trial and error I discovered that the cookbooks we will need for a nice LAMP development environment are:</p>

<ul>
  <li>apache2 (<a href="https://github.com/opscode-cookbooks/apache2.git">https://github.com/opscode-cookbooks/apache2.git</a>)</li>
  <li>apt (<a href="https://github.com/opscode-cookbooks/apt.git">https://github.com/opscode-cookbooks/apt.git</a>)</li>
  <li>build-essential (<a href="https://github.com/opscode-cookbooks/build-essential.git">https://github.com/opscode-cookbooks/build-essential.git</a>)</li>
  <li>database (<a href="https://github.com/opscode-cookbooks/database.git">https://github.com/opscode-cookbooks/database.git</a>)</li>
  <li>mysql (<a href="https://github.com/opscode-cookbooks/mysql.git">https://github.com/opscode-cookbooks/mysql.git</a>)</li>
  <li>openssl (<a href="https://github.com/opscode-cookbooks/openssl.git">https://github.com/opscode-cookbooks/openssl.git</a>)</li>
  <li>php (<a href="https://github.com/opscode-cookbooks/php.git">https://github.com/opscode-cookbooks/php.git</a>)One little gotcha is that currently the latest version of the apt cookbook doesn’t work with the version of Chef currently bundled with Vagrant, so you need to manually check out the 1.10.0 tag for it to work.  Its very possible that by now this step is no longer necessary.  Now your folder structure should look like this:</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chef
├── cookbooks
├── apache2
├── apt
├── build-essential
├── database
├── mysql
├── openssl
├── php
└── site-cookbooks
Vagrantfile
</code></pre></div></div>

<p>Now we need to update our Vagrantfile to install the recipes that we’ve added:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ipaddress</span> <span class="o">=</span> <span class="s2">"10.10.10.10"</span>

<span class="no">Vagrant</span><span class="p">.</span><span class="nf">configure</span><span class="p">(</span><span class="s2">"2"</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box</span> <span class="o">=</span> <span class="s2">"precise64"</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">box_url</span> <span class="o">=</span> <span class="s2">"http://files.vagrantup.com/precise64.box"</span>

  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">network</span> <span class="ss">:private_network</span><span class="p">,</span> <span class="ss">ip: </span><span class="n">ipaddress</span>

  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provider</span> <span class="ss">:virtualbox</span> <span class="k">do</span> <span class="o">|</span><span class="n">vb</span><span class="o">|</span>
    <span class="n">vb</span><span class="p">.</span><span class="nf">customize</span> <span class="p">[</span><span class="s2">"modifyvm"</span><span class="p">,</span> <span class="ss">:id</span><span class="p">,</span> <span class="s2">"--memory"</span><span class="p">,</span> <span class="s2">"512"</span><span class="p">]</span>
  <span class="k">end</span>

  <span class="n">config</span><span class="p">.</span><span class="nf">vm</span><span class="p">.</span><span class="nf">provision</span> <span class="ss">:chef_solo</span> <span class="k">do</span> <span class="o">|</span><span class="n">chef</span><span class="o">|</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">cookbooks_path</span> <span class="o">=</span> <span class="p">[</span> <span class="s2">"chef/site-cookbooks"</span><span class="p">,</span> <span class="s2">"chef/cookbooks"</span> <span class="p">]</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"apt"</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"openssl"</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"apache2"</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"mysql::server"</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"php"</span>
    <span class="n">chef</span><span class="p">.</span><span class="nf">json</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"apache"</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="s2">"user"</span> <span class="o">=&gt;</span> <span class="s2">"vagrant"</span><span class="p">,</span>
        <span class="s2">"group"</span> <span class="o">=&gt;</span> <span class="s2">"vagrant"</span><span class="p">,</span>
        <span class="s2">"default_modules"</span> <span class="o">=&gt;</span> <span class="p">[</span>
          <span class="s2">"mod_php5"</span><span class="p">,</span>
          <span class="s2">"mod_ssl"</span><span class="p">,</span>
          <span class="s2">"mod_rewrite"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="s2">"mysql"</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="s2">"server_root_password"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"server_debian_password"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
        <span class="s2">"server_repl_password"</span> <span class="o">=&gt;</span> <span class="s2">""</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div></div>

<p>We have added a <strong>provision,</strong> which is Vagrant speak for something that installs sofware on the VM, or does some kind of configuration.  Very simply we tell Vagrant where it can find the cookbooks, add each recipe that we want to install and then set a <strong>chef.json</strong> variable with some properties.  These properties get merged over the default properties of each cookbook, and in general the <strong>README.md</strong> file in the root of the cookbook will explain all the options (otherwise it tends to be quite straightforward to look at the source code of the recipes and figure it out).  In particular we have installed a few Apache modules, set some blank passwords (its a development machine!) and told Apache to run as <strong>vagrant:vagrant</strong> which solves a whole bunch of permissions complications.</p>

<p>This time we have only changed the software side of things, so we don’t need to rebuild the server from scratch (its still running from our earlier <strong>vagrant up</strong>).  Therefore this time we can run <strong>vagrant provision</strong> which will install all the bits of software defined above.  Neat, huh?</p>

<p><strong>4. PHP extensions</strong></p>

<p>We are going to create a few recipes of our own, to install some PHP extensions.  I think of these as additional recipes in the existing php cookbook, so I add them by using the same folder structure in the <strong>sites-cookbooks</strong> folder.  Files in this folder will overwrite files of the same path in <strong>cookbooks</strong> so its useful for extending and changing existing recipes.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chef
├── cookbooks
├── apache2
├── apt
├── build-essential
├── database
├── mysql
├── openssl
├── php
├── site-cookbooks
| └── php
└── recipes
Vagrantfile
</code></pre></div></div>

<p>Inside here we are going to create three recipes that will install the <strong>apc</strong>, <strong>intl</strong> and <strong>mysql</strong> extensions.</p>

<p><strong>module_apc:</strong></p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">php_pear</span> <span class="s2">"apc"</span><span class="k">do</span>
  <span class="n">action</span> <span class="ss">:install</span>
  <span class="n">directives</span><span class="p">(</span><span class="ss">:shm_size</span> <span class="o">=&gt;</span> <span class="mi">128</span><span class="p">,</span> <span class="ss">:enable_cli</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>
</code></pre></div></div>

<p><strong>module_intl:</strong></p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># intl doesn't like installing from pear for some reason, so use apt</span>
<span class="n">package</span> <span class="s2">"php5-intl"</span><span class="k">do</span>
  <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</code></pre></div></div>

<p><strong>module_mysql:</strong></p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">php_pear</span> <span class="s2">"mysql"</span><span class="k">do</span>
  <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</code></pre></div></div>

<p>As you can see, its easy to install either from PEAR using <strong>php_pear</strong>, or from APT using <strong>package</strong>.  Now we add these lines to our Vagrantfile after the php recipe:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"php::module_mysql"</span>
<span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"php::module_apc"</span>
<span class="n">chef</span><span class="p">.</span><span class="nf">add_recipe</span> <span class="s2">"php::module_intl"</span>
</code></pre></div></div>

<p><strong>5. Apache vhosts</strong></p>

<p>Chef provides a <strong>web_app</strong> command for setting up vhosts.  Like many Chef recipes, it simply uses a Ruby erb template to inject parameters into a file which it will create somewhere on the file system.  In the case of the web_app command it uses the template in <strong>chef/cookbooks/apache2/templates/default/web_app.conf.erb **and if you take a look at that file its very easy to figure out what parameters you can configure it with.  In my particular case I had a slightly funky Symfony 2 vhost setup which it was quickest to just copy/paste into a new template and chuck in a few extra parameters.  Note that as for php, we need to create a path inside **sites-cookbooks</strong> to match **cookbooks **in order to extend or override it.</p>

<p><strong>sites-cookbooks/apache2/templates/default/symfony_web_app.conf.erb</strong></p>
<div class="language-apache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">&lt;</span><span class="nl">VirtualHost</span><span class="sr"> *:80</span><span class="p">&gt;
</span>  <span class="nc">ServerName</span> &lt;%= @params[:dev_server_name] %&gt;
  <span class="nc">DocumentRoot</span> &lt;%= @params[:docroot] %&gt;
  <span class="nc">LogLevel</span> info
  <span class="nc">ErrorLog</span> &lt;%= node['apache']['log_dir'] %&gt;/&lt;%= @params[:dev_server_name] %&gt;-error.log
  <span class="nc">CustomLog</span> &lt;%= node['apache']['log_dir'] %&gt;/&lt;%= @params[:dev_server_name] %&gt;-access.log combined
  <span class="p">&lt;</span><span class="nl">Directory</span><span class="sr"> &lt;%= @params[:docroot] %</span><span class="p">&gt;</span><span class="err">&gt;</span>
    <span class="nc">Options</span> <span class="ss">Indexes</span> <span class="ss">FollowSymLinks</span> <span class="ss">MultiViews</span>
    <span class="nc">AllowOverride</span> <span class="ss">all</span>
    <span class="nc">Order</span> allow,deny
    <span class="nc">Allow</span> <span class="ss">from</span> <span class="ss">all</span>
    
    <span class="nc">DirectoryIndex</span> app_dev.php
    <span class="nc">RewriteEngine</span> <span class="ss">On</span>
    <span class="nc">RewriteCond</span> %{ENV:REDIRECT_STATUS} ^$
    <span class="nc">RewriteRule</span> ^app_dev.php(/(.*)|$) %{CONTEXT_PREFIX}/$2 [R=301,L]
    <span class="nc">RewriteCond</span> %{REQUEST_FILENAME} -f
    <span class="nc">RewriteRule</span> .? - [L]
    <span class="nc">RewriteCond</span> %{REQUEST_URI}::$1 ^(/.+)(.+)::2$
    <span class="nc">RewriteRule</span> ^(.*) - [E=BASE:%1]
    <span class="nc">RewriteRule</span> .? %{ENV:BASE}app_dev.php [L]
  <span class="p">&lt;/</span><span class="nl">Directory</span><span class="p">&gt;
&lt;/</span><span class="nl">VirtualHost</span><span class="p">&gt;
</span>
<span class="p">&lt;</span><span class="nl">VirtualHost</span><span class="sr"> *:80</span><span class="p">&gt;
</span>  <span class="nc">ServerName</span> &lt;%= @params[:prod_server_name] %&gt;
  <span class="nc">DocumentRoot</span> &lt;%= @params[:docroot] %&gt;
  <span class="nc">LogLevel</span> info
  <span class="nc">ErrorLog</span> &lt;%= node['apache']['log_dir'] %&gt;/&lt;%= @params[:prod_server_name] %&gt;-error.log
  <span class="nc">CustomLog</span> &lt;%= node['apache']['log_dir'] %&gt;/&lt;%= @params[:prod_server_name] %&gt;-access.log combined
  <span class="p">&lt;</span><span class="nl">Directory</span><span class="sr"> &lt;%= @params[:docroot] %</span><span class="p">&gt;</span><span class="err">&gt;</span>
    <span class="nc">Options</span> <span class="ss">Indexes</span> <span class="ss">FollowSymLinks</span> <span class="ss">MultiViews</span>
    <span class="nc">AllowOverride</span> <span class="ss">all</span>
    <span class="nc">Order</span> allow,deny
    <span class="nc">Allow</span> <span class="ss">from</span> <span class="ss">all</span>
    
    <span class="nc">DirectoryIndex</span> app.php
    <span class="nc">RewriteEngine</span> <span class="ss">On</span>
    <span class="nc">RewriteCond</span> %{ENV:REDIRECT_STATUS} ^$
    <span class="nc">RewriteRule</span> ^app.php(/(.*)|$) %{CONTEXT_PREFIX}/$2 [R=301,L]
    <span class="nc">RewriteCond</span> %{REQUEST_FILENAME} -f
    <span class="nc">RewriteRule</span> .? - [L]
    <span class="nc">RewriteCond</span> %{REQUEST_URI}::$1 ^(/.+)(.+)::2$
    <span class="nc">RewriteRule</span> ^(.*) - [E=BASE:%1]
    <span class="nc">RewriteRule</span> .? %{ENV:BASE}app.php [L]
  <span class="p">&lt;/</span><span class="nl">Directory</span><span class="p">&gt;
&lt;/</span><span class="nl">VirtualHost</span><span class="p">&gt;
</span></code></pre></div></div>

<p>Finally we need a recipe with a web_app command that uses this template:</p>

<p><strong>sites-cookbooks/apache2/recipes/vhosts.rb</strong></p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">include_recipe</span> <span class="s2">"apache2"</span>

<span class="n">web_app</span> <span class="s2">"platypus"</span><span class="k">do</span>
  <span class="n">template</span> <span class="s2">"symfony_web_app.conf.erb"</span>
  <span class="n">docroot</span> <span class="s2">"/home/vagrant/platypus/web/"</span>
  <span class="n">dev_server_name</span> <span class="s2">"dev.platypus"</span>
  <span class="n">prod_server_name</span> <span class="s2">"prod.platypus"</span>
<span class="k">end</span>

<span class="n">directory</span> <span class="s2">"/home/vagrant/platypus"</span><span class="k">do</span>
  <span class="n">action</span> <span class="ss">:create</span>
  <span class="n">owner</span> <span class="s2">"vagrant"</span>
  <span class="n">group</span> <span class="s2">"vagrant"</span>
<span class="k">end</span>
</code></pre></div></div>

<p>In my particular case the application I am developing is called ‘platypus’ so I’ve set up the URLs and directories to match that.  My web app will be installed in <strong>/home/vagrant/platypus</strong> and the web root is <strong>/home/vagrant/platypus/web</strong> (this is how Symfony apps are setup).</p>

</article>
</div>

  </body>

  <script src="https://unpkg.com/smartphoto@1.1.0/js/smartphoto.min.js"></script>
  <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
</html>
