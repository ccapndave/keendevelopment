<!DOCTYPE html>
<html class="min-h-full min-w-[250px]">
  <head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>Implementing preventDefault on an Elm click listener</title>
    <link href="https://unpkg.com/smartphoto@1.1.0/css/smartphoto.min.css" rel="stylesheet"/>

    <link href="https://unpkg.com/flickity@2/dist/flickity.min.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700" rel="stylesheet"/>
    <link href="/assets/css/tailwind.css" rel="stylesheet"/>
    <link href="/assets/css/native.css" rel="stylesheet"/>
    <link href="/assets/css/styles.css" rel="stylesheet"/>

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Implementing preventDefault on an Elm click listener | Keen Development</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Implementing preventDefault on an Elm click listener" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Every now and again, an onClick Elm listener will result in the browser changing the page. I’m not quite sure why this only happens occasionally with some buttons, but here is a workaround that implements a new listener that enforces preventDefault, stopping this from happening:" />
<meta property="og:description" content="Every now and again, an onClick Elm listener will result in the browser changing the page. I’m not quite sure why this only happens occasionally with some buttons, but here is a workaround that implements a new listener that enforces preventDefault, stopping this from happening:" />
<meta property="og:site_name" content="Keen Development" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-03-25T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Implementing preventDefault on an Elm click listener" />
<script type="application/ld+json">
{"datePublished":"2016-03-25T00:00:00+00:00","dateModified":"2016-03-25T00:00:00+00:00","description":"Every now and again, an onClick Elm listener will result in the browser changing the page. I’m not quite sure why this only happens occasionally with some buttons, but here is a workaround that implements a new listener that enforces preventDefault, stopping this from happening:","url":"/implementing-preventdefault-on-an-elm-click-listener/","mainEntityOfPage":{"@type":"WebPage","@id":"/implementing-preventdefault-on-an-elm-click-listener/"},"@type":"BlogPosting","headline":"Implementing preventDefault on an Elm click listener","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body class="max-w-screen-xl mx-auto bg-lightgray overscroll-y-none">
    <div class="absolute left-0 right-0 h-12 shadow-md bg-code">
  <div class="flex justify-center w-full px-6 py-3 sm:justify-between">
    <a href="/">
      <img class="hidden h-7 sm:inline" src="/assets/images/Keen_bold_neg%201.svg"/>
    </a>
    <nav class="flex items-center text-base">
  <ol class="flex gap-4">
    
      <li class="text-white">
        <a href="/">Home</a>
      </li>
    
      <li class="text-white">
        <a href="/contact">Contact</a>
      </li>
    
      <li class="text-white">
        <a href="https://www.github.com/ccapndave">Github</a>
      </li>
    
  </ol>
</nav>
  </div>
</div>

<div class="px-5 pt-20 m-auto max-w-prose">
  <header class="flex justify-between">
    <div class="text-xl font-bold tracking-wide">Implementing preventDefault on an Elm click listener<span class="font-normal text-orange">_</span>
    </div>
  </header>

  

  <div class="flex items-center text-sm font-normal text-darkgray whitespace-nowrap">
    Mar 25, 2016
  </div>

  <article class="my-8 prose-sm prose text-green-700 sm:prose">
  <p>Every now and again, an <code class="language-plaintext highlighter-rouge">onClick</code> Elm listener will result in the browser changing the page. I’m not quite sure why this only happens occasionally with some buttons, but here is a workaround that implements a new listener that enforces <code class="language-plaintext highlighter-rouge">preventDefault</code>, stopping this from happening:</p>

<div class="language-elm highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">onClickPreventDefault</span> <span class="p">:</span> <span class="kt">Signal</span><span class="o">.</span><span class="kt">Address</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="kt">Attribute</span>
<span class="n">onClickPreventDefault</span> <span class="n">address</span> <span class="n">msg</span> <span class="o">=</span>
  <span class="n">onWithOptions</span> <span class="s">"</span><span class="s2">click"</span> <span class="p">{</span> <span class="n">preventDefault</span> <span class="o">=</span> <span class="kt">True</span><span class="o">,</span> <span class="n">stopPropagation</span> <span class="o">=</span> <span class="kt">True</span> <span class="p">}</span> <span class="kt">JD</span><span class="o">.</span><span class="n">value</span> <span class="p">(</span><span class="o">\</span><span class="n">_</span> <span class="o">-&gt;</span> <span class="kt">Signal</span><span class="o">.</span><span class="n">message</span> <span class="n">address</span> <span class="n">msg</span><span class="p">)</span>
</code></pre></div></div>

<p>It can be used as a drop in replacement for <code class="language-plaintext highlighter-rouge">onClick</code>.</p>

</article>
</div>

  </body>

  <script src="https://unpkg.com/smartphoto@1.1.0/js/smartphoto.min.js"></script>
  <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
</html>
